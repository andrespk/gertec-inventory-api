services:
  inventory-api:
    image: gertec-inventory-api:${API_VERSION}
    container_name: inventory-api
    build:
      context: .
      dockerfile: .Dockerfile
    ports:
      - '5000:80'
    env_file:
      - '../build/.env.${ASPNETCORE_ENVIRONMENT}'
      
  inventory-db:
    image: mysql/mysql-server:latest
    container_name: my-mysql
    restart: always
    ports:
      - '5001:3306'
    env_file:
      - '../build/.env.${ASPNETCORE_ENVIRONMENT}'
    volumes:
      - mysql-volume:/var/lib/mysql
      
volumes:
  mysql-volume:
    driver: local
